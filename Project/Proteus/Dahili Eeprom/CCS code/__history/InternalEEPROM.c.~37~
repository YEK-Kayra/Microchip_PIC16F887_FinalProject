#include <16f887.h>

//--> FUSES
#fuses HS,NOWDT,NOPUT,NOLVP,NOCPD,NOPROTECT,NODEBUG,NOBROWNOUT,NOWRT

//--> USEs
#use delay(clock=4M)


//--> INCLUDES
#include <lcd.c>   


typedef struct{

unsigned long int time_Foaming;         //Process number-1
unsigned long int time_Washing;         //Process number-2
unsigned long int time_Ventilation;     //Process number-3
unsigned long int mililitre_Polishing;       //Process number-4 

}MikroleumClient_HandleTypeDef;


MikroleumClient_HandleTypeDef MikroClient[2]; //Each customer keeps their own records
                                              //MikroClient[0] Mr. Selcuk //ClientNumber=0
                                              //MikroClient[1] Mr. Emre   //ClientNumber=1
int8 ClientNumber;                            // Will be used as given on the right --> MikroClient[ClientNumber]  


//Will be implemented//

//------------ VAR --> INTERNAL EEPROM <-- VAR ------------//
//EEPROM variables to store the values selected by the user
unsigned int8 eeprom_foaming     = 0;
unsigned int8 eeprom_washing     = 0;
unsigned int8 eeprom_ventilating = 0;
unsigned int8 eeprom_Polishing   = 0;

//Keeps track of the last written address in EEPROM for each customer
unsigned int8 eeprom_Client0_last_written_address; //For Selçuk Bey's account
unsigned int8 eeprom_Client1_last_written_address; //For Emre Bey's account

//Will be implemented into //
/* ======== LCD SCREEN FUNCTIONS PROTOTYPES  ======== */
void displayEEPROMDataOnLCD(void);

void main(void) 
{

      lcd_init(); // LCD ekranýmýzý baþlatacak

      //Retrieve records and inform the customer
      displayEEPROMDataOnLCD();
      
      
      
      
            
 while(1)
 {
     
 }
}

//Will be implemented//
void displayEEPROMDataOnLCD(){

      lcd_gotoxy(2,1);
      printf(lcd_putc, "Operasyon Sonu");   
      delay_ms(2000);
      printf(lcd_putc, "\f");
      lcd_gotoxy(3,1);
      printf(lcd_putc, "Islemleriniz");  
      lcd_gotoxy(3,2);
      printf(lcd_putc, "Kaydediliyor");
      
      eeprom_foaming     = MikroClient[ClientNumber].time_Foaming;
      eeprom_washing     = MikroClient[ClientNumber].time_Washing;
      eeprom_ventilating = MikroClient[ClientNumber].time_Ventilation;
      eeprom_Polishing   = MikroClient[ClientNumber].mililitre_Polishing;
      
      delay_ms(1000);
      
      printf(lcd_putc, "\f");
      lcd_gotoxy(5,1);
      printf(lcd_putc, "Kayitlar");  
      lcd_gotoxy(4,2);
      printf(lcd_putc, "Tamamlandi");
      
      delay_ms(1000);
      
      printf(lcd_putc, "\f");
      lcd_gotoxy(4,1);
      printf(lcd_putc, "Ana Menuye");  
      lcd_gotoxy(2,2);
      printf(lcd_putc, "Yonlendiriliyor");
      
      delay_ms(1000);
      printf(lcd_putc, "\f");
      
}

